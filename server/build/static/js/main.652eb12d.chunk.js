(this["webpackJsonpfoodmon-client"]=this["webpackJsonpfoodmon-client"]||[]).push([[0],{39:function(e,t,n){e.exports={title:"Login_title__RsI1A",button:"Login_button__HekAI","made-by":"Login_made-by__17AYn",author:"Login_author__2I1-8",name:"Login_name__3Xn1S",tag:"Login_tag__ypC0n",repo:"Login_repo__1bXFV"}},40:function(e,t,n){e.exports={hero:"Hero_hero__KpZI0","--max-height":"Hero_--max-height__czEUQ"}},41:function(e,t,n){e.exports={card:"Card_card__3T35y",img:"Card_img__1WGVX",details:"Card_details__3woaU","--reverse":"Card_--reverse__2yUkd"}},42:function(e,t,n){e.exports={"main-nav":"MainNav_main-nav__10z8l",logo:"MainNav_logo__mOnF9","--active":"MainNav_--active__FaUv9"}},44:function(e,t,n){e.exports={search:"SearchBar_search__1buIf"}},45:function(e,t,n){e.exports={subnav:"SubNav_subnav__3jo57","--center-on-small-screens":"SubNav_--center-on-small-screens__3KBHp","--active":"SubNav_--active__3huZ4"}},46:function(e,t,n){e.exports={top:"RestaurantCard_top__HrCh9",cuisines:"RestaurantCard_cuisines__2QkNe",bottom:"RestaurantCard_bottom__1jWWq",info:"RestaurantCard_info__3ZSns"}},47:function(e,t,n){e.exports={"cards-display":"CardsDisplay_cards-display__1xFXA","--overflowing":"CardsDisplay_--overflowing__1HELk",cards:"CardsDisplay_cards__3U1EN"}},48:function(e,t,n){e.exports={titlebar:"Titlebar_titlebar__1ZeQ4",title:"Titlebar_title__3nVWA",subtitle:"Titlebar_subtitle__Fz2xU"}},49:function(e,t,n){e.exports={top:"Dish_top__1CyxQ","restaurant-name":"Dish_restaurant-name__3noSy","veg-option":"Dish_veg-option__3QDgs",bottom:"Dish_bottom__2JpKk",price:"Dish_price__31A-K",quantity:"Dish_quantity__Utsgu","--recent":"Dish_--recent__3BeV7"}},50:function(e,t,n){e.exports={button:"ProfilePage_button__2mHwJ",text:"ProfilePage_text__2LE7Y",name:"ProfilePage_name__2wRZ5",email:"ProfilePage_email__2jlrk"}},51:function(e,t,n){e.exports={text:"RestaurantPage_text__8rth0",details:"RestaurantPage_details__3EuKV",info:"RestaurantPage_info__3hkvq",back:"RestaurantPage_back__3MWD6"}},53:function(e,t,n){e.exports={cart:"Cart_cart__1GVjB",empty:"Cart_empty__1O430",title:"Cart_title__3Pore",subtitle:"Cart_subtitle__33PP3",prices:"Cart_prices__1d8FK",checkout:"Cart_checkout__t4kIS",price:"Cart_price__Gb3Hw","price-name":"Cart_price-name__32L04","price-value":"Cart_price-value__4Mxuc"}},59:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c,r,a=n(2),s=n.n(a),i=n(37),o=n.n(i),j=n(3),u=n.n(j),l=n(7),d=n(5),b=n(28),h=n(38),O=n(6),x=n(10),p=(n(59),function(){var e=Object(a.useState)({width:window.innerWidth}),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(){return c({width:window.innerWidth})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}),f=n(27),m=n(1),v=function(e,t){switch(t.type){case"init":return t.payload.newCart;case"add":var n=t.payload.dish;return[].concat(Object(f.a)(e),[n]);case"update":var c=t.payload,r=c.dishId,a=c.quantity,s=e.findIndex((function(e){return e._id===r}));return a>0?e[s].quantity=a:e.splice(s,1),Object(f.a)(e);case"empty":return[];default:throw new Error("Unknown cartReducer action type")}},g=Object(a.createContext)([void 0,function(){}]),_=function(e){var t=e.children,n=Object(a.useReducer)(v,void 0);return Object(m.jsx)(g.Provider,{value:n,children:t})},A=function(){return Object(a.useContext)(g)},y=n(24),w=n.n(y),N=w.a.create({baseURL:"/api/v1",withCredentials:!0}),C=w.a.create({baseURL:"/auth",withCredentials:!0}),k=n(39),S=n.n(k),F=n(4),P=n.n(F),E=n.p+"static/media/logo.69195d98.svg",U=n(20),I=n(40),L=n.n(I),B=P.a.bind(L.a),M=function(e){var t=e.img,n=e.maxHeight,c=e.children;return Object(m.jsxs)("section",{className:B("hero",{"--max-height":n}),children:[Object(m.jsx)("img",{src:t.src,alt:t.alt}),c]})},R=n(41),D=n.n(R),K=P.a.bind(D.a),Y=function(e){var t=e.img,n=e.reverse,c=e.children;return Object(m.jsxs)("article",{className:K("card",{"--reverse":n}),children:[Object(m.jsx)("img",{src:t.src,alt:t.alt,className:K("img")}),Object(m.jsx)("div",{className:K("details"),children:c})]})},Z=P.a.bind(S.a),H=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:Z("title"),children:"Foodmon"}),Object(m.jsxs)("button",{className:Z("button"),onClick:function(){return window.open("/auth/google","_self")},children:[Object(m.jsx)(U.a,{}),Object(m.jsx)("span",{children:"Log In with Google"})]})]})},J=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{className:Z("made-by"),children:["Made for Devsoc, with ",Object(m.jsx)("span",{children:"\u2764"})," by"]}),Object(m.jsxs)(Y,{img:{src:"https://avatars.githubusercontent.com/u/66110457?v=4",alt:"author"},children:[Object(m.jsxs)("a",{href:"https://github.com/ashmitkx",target:"_blank",rel:"noreferrer",className:Z("author"),children:[Object(m.jsx)("span",{className:Z("name"),children:"Ashmit Khandelwal"}),Object(m.jsx)("span",{className:Z("tag"),children:"@ashmitkx"})]}),Object(m.jsx)("a",{className:Z("repo"),target:"_blank",rel:"noreferrer",href:"https://github.com/ashmitkx/foodmon",children:"Github Repo"})]})]})},q=function(){return Object(m.jsxs)(M,{maxHeight:!0,img:{src:E,alt:"logo"},children:[Object(m.jsx)(H,{}),Object(m.jsx)(J,{})]})},T=n(42),G=n.n(T),W=["title","titleId"];function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var c in n)Object.prototype.hasOwnProperty.call(n,c)&&(e[c]=n[c])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,c,r=function(e,t){if(null==e)return{};var n,c,r={},a=Object.keys(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(c=0;c<a.length;c++)n=a[c],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z(e,t){var n=e.title,s=e.titleId,i=Q(e,W);return a.createElement("svg",V({width:148,height:148,viewBox:"0 0 148 148",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},i),n?a.createElement("title",{id:s},n):null,c||(c=a.createElement("path",{d:"M122.6 71.94L51.42 0.780002C51.053 0.413002 50.585 0.162002 50.076 0.0600021C49.566 -0.0409979 49.038 0.0100021 48.558 0.208002C48.078 0.406002 47.667 0.741002 47.377 1.172C47.087 1.603 46.932 2.111 46.93 2.63V62.47L25.37 40.93C25.002 40.562 24.533 40.312 24.023 40.21C23.513 40.108 22.984 40.16 22.503 40.36C22.023 40.559 21.612 40.896 21.323 41.328C21.034 41.761 20.88 42.27 20.88 42.79V104.58C20.876 106.515 21.254 108.432 21.994 110.221C22.733 112.009 23.82 113.633 25.19 115L53.24 143C56.003 145.75 59.742 147.295 63.64 147.3H84.17C88.066 147.298 91.802 145.752 94.56 143L122.61 115C123.975 113.636 125.058 112.017 125.796 110.234C126.534 108.451 126.912 106.54 126.91 104.61V82.34C126.912 80.408 126.532 78.495 125.792 76.71C125.053 74.925 123.968 73.304 122.6 71.94Z",fill:"#E65D03"})),r||(r=a.createElement("path",{d:"M100.89 98C100.887 99.166 100.423 100.284 99.6 101.11L77 123.79C76.591 124.203 76.104 124.53 75.568 124.754C75.031 124.977 74.456 125.093 73.875 125.093C73.294 125.093 72.718 124.977 72.182 124.754C71.646 124.53 71.159 124.203 70.75 123.79L48.2 101.08C47.38 100.263 46.913 99.157 46.9 98V89.34C46.901 88.76 47.016 88.186 47.239 87.65C47.462 87.115 47.789 86.629 48.2 86.22L56.32 78.1C57.148 77.274 58.27 76.81 59.44 76.81C60.61 76.81 61.731 77.274 62.56 78.1L73.91 89.46L85.24 78.1C86.068 77.274 87.19 76.81 88.36 76.81C89.53 76.81 90.651 77.274 91.48 78.1L99.59 86.22C100.001 86.629 100.328 87.115 100.551 87.65C100.774 88.186 100.889 88.76 100.89 89.34V98Z",fill:"#FFDB1C"})))}var X=a.forwardRef(z),$=(n.p,n(8)),ee=n(14),te=P.a.bind(G.a),ne=function(){var e=p().width;return Object(m.jsx)("nav",{className:te("main-nav"),children:Object(m.jsxs)("ul",{children:[e>540&&Object(m.jsx)("li",{children:Object(m.jsx)("div",{className:te("logo"),children:Object(m.jsx)(X,{})})}),Object(m.jsx)("li",{children:Object(m.jsx)(x.c,{to:"/home",activeClassName:te("--active"),children:Object(m.jsx)($.c,{})})}),Object(m.jsx)("li",{children:Object(m.jsx)(x.c,{to:"/search",activeClassName:te("--active"),children:Object(m.jsx)($.d,{})})}),e<=1345&&Object(m.jsx)("li",{children:Object(m.jsx)(x.c,{to:"/cart",activeClassName:te("--active"),children:Object(m.jsx)(ee.b,{})})}),Object(m.jsx)("li",{children:Object(m.jsx)(x.c,{to:"/profile",activeClassName:te("--active"),children:Object(m.jsx)($.b,{})})})]})})},ce=n(44),re=n.n(ce),ae=P.a.bind(re.a),se=function(e){var t=e.onSearch,n=e.onSearchFocus,c=e.autoFocus;return Object(m.jsxs)("form",{className:ae("search"),onSubmit:t,onFocus:n,children:[Object(m.jsx)("input",{autoFocus:c,required:!0,type:"text",name:"search",placeholder:"Find something to eat ..."}),Object(m.jsx)($.d,{})]})},ie=n(45),oe=n.n(ie),je=P.a.bind(oe.a),ue=function(e){var t,n=e.basePage,c=e.links;return c.length<=2&&(t="--center-on-small-screens"),Object(m.jsx)("nav",{className:je("subnav",t),children:Object(m.jsx)("ul",{children:c.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsxs)(x.c,{to:n+e.subPage,activeClassName:je("--active"),children:[e.icon,e.text]})},e.subPage)}))})})},le=n(46),de=n.n(le),be=P.a.bind(de.a),he=function(e){var t=e.restaurant;return Object(m.jsx)(x.b,{to:"/restaurant/".concat(t._id),children:Object(m.jsxs)(Y,{reverse:!0,img:{src:t.imgUrl,alt:"restaurant img"},children:[Object(m.jsxs)("div",{className:be("top"),children:[Object(m.jsx)("h2",{children:t.name}),Object(m.jsx)("span",{className:be("cuisines"),children:t.cuisines.join(", ")})]}),Object(m.jsxs)("div",{className:be("bottom"),children:[Object(m.jsxs)("div",{className:be("info"),children:[Object(m.jsx)($.e,{}),Object(m.jsx)("span",{children:Number(t.rating).toFixed(1)})]}),Object(m.jsxs)("div",{className:be("info"),children:[Object(m.jsx)($.f,{}),Object(m.jsxs)("span",{children:[5*Math.round(.2*(5*t.distance+20))," Min"]})]}),Object(m.jsxs)("div",{className:be("info"),children:[Object(m.jsx)(ee.a,{}),Object(m.jsxs)("span",{children:[Number(t.distance).toFixed(1)," Km"]})]})]})]})})},Oe=n(47),xe=n.n(Oe),pe=n(48),fe=n.n(pe),me=P.a.bind(fe.a),ve=function(e){var t=e.icon,n=e.subtitle,c=e.children;return Object(m.jsxs)("div",{className:me("titlebar"),children:[Object(m.jsxs)("div",{className:me("title"),children:[t&&Object(m.jsx)("span",{children:t}),Object(m.jsx)("h1",{children:c})]}),Object(m.jsx)("span",{className:me("subtitle"),children:n})]})},ge=P.a.bind(xe.a),_e=function(e){var t=e.icon,n=e.title,c=e.subtitle,r=e.overflowing,a=e.children;return Object(m.jsxs)("section",{className:ge("cards-display",{"--overflowing":r}),children:[(n||c)&&Object(m.jsx)(ve,{subtitle:c,icon:t,children:n}),Object(m.jsx)("div",{className:ge("cards"),children:a})]})},Ae=n(49),ye=n.n(Ae),we=n(21),Ne=P.a.bind(ye.a),Ce=function(e){var t=e.type,n=e.dishId,c=e.children,r=A()[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],j=i[1],b=function(){var e=Object(l.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),a=c+t,e.prev=2,e.next=5,N.put("/user/cart",{_id:n,quantity:a});case 5:j(!1),r({type:"update",payload:{dishId:n,quantity:a}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),j(!1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,N.post("/user/cart",{_id:n});case 4:t=e.sent,r({type:"add",payload:{dish:t.data}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,j(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();switch(t){case"recent":return Object(m.jsxs)("div",{className:Ne("quantity","--recent"),children:[Object(m.jsx)("span",{children:"\ud83d\udfa9"}),Object(m.jsx)("span",{children:c})]});case"edit":return Object(m.jsxs)("div",{className:Ne("quantity"),children:[Object(m.jsx)("button",{onClick:function(){return b(1)},disabled:o,children:Object(m.jsx)(we.b,{})}),Object(m.jsx)("span",{children:c}),Object(m.jsx)("button",{onClick:function(){return b(-1)},disabled:o,children:c>1?Object(m.jsx)(we.a,{}):Object(m.jsx)($.g,{style:{height:"1.1em",marginBottom:"1px"}})})]});case"add":return Object(m.jsxs)("button",{className:Ne("quantity"),onClick:h,disabled:o,children:[Object(m.jsx)(we.b,{}),Object(m.jsx)("span",{children:"Add"})]});default:throw new Error("Invalid type prop in QuantitySelect")}},ke=function(e){var t=e.to,n=e.condition,c=e.children;return n?Object(m.jsx)(x.b,{to:t,children:c}):c},Se=function(e){var t,n=e.dish,c=e.recent,r=e.standalone,a=A()[0];if(void 0===a)return null;var s,i=n.quantity||(null===(t=a.find((function(e){return e._id===n._id})))||void 0===t?void 0:t.quantity);return s=c?"recent":i?"edit":"add",Object(m.jsxs)(Y,{img:{src:n.imgUrl,alt:"dish img"},children:[Object(m.jsxs)("div",{className:Ne("top"),children:[Object(m.jsxs)(ke,{to:"/restaurant/".concat(n.restaurant._id),condition:r,children:[Object(m.jsx)("h2",{children:n.name}),r&&Object(m.jsx)("span",{className:Ne("restaurant-name"),children:n.restaurant.name})]}),Object(m.jsx)("img",{src:n.vegetarian?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHFSURBVHgB7Zc7SwNBFIW/DSJio4KFhWAQC0EQQbQ1BmzE3lJt/AO2PsZHay1YiI2NlY1Y+QCtFK1FUGJjYaMoKKJJPNkYLMTszGZImnzLXJbd2XvPztyduRtgyFNDGkJrCKg2hlbZpwQ1pi6ggTgU5i9Bn9K3R9nzTo5HnV+xzAuOuAkwTMjOqaUUtEjpGwrC+0e6vsUKO5YeLQUYkgqwrWAjET3TGpm0RmJKfWf1XCaiv0UOGPplLyyC/5JnTPZYz3ZHdU1EBE/K7qu1405S7ZA1uogtIOBAtpP4JPnS1MUSYJjWUPZSOSn5SuEsAAnwxwJOAorrtH3SRREwKJ9NWAuAAXySp0W220VAB/7pcBHQiH9yOAi4xjdZXnEQcKN5y+KPN1a5xFqA4VmZe4o/9v67UW4dWMYfGzgLMJzInlA52/J1hrOAIjPKhXvik9GGb8p1iNoNM8qFdOgoTnAYZb78C9jUA3ehI9jFlsIu+sGwTUFiWxFlZCdZ1HwmVOnAOH8Xq2e1wlyvs2SfO2414UpYHxwoLwJ9I0M6b6Y4ig86btnkE0fiVcVBWIqe44H6j0np57SVavNFWyF6KQeeqDY/kb8BtfZeJk1kcJ8AAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJGSURBVHgB7ZfPaxNBFMe/b7KhWktBUMSL2myDFbzFPyCpB8GjUG8KXqxtqBQRPSjGGhAVrCB0pQeh54Jn8WATKZ5KThZBbJOAiFD8dbBIt8k836b21DY7synJpZ/DLkkeO5+deTPvhbx0wgchjg7hBBdm/qAUzaGdMJ9j0EBDQDHNj8yVx9FGvHTfjMz8gEKH2RNwEIHp1NHuem/3KaprlxX7rHnFWT20MFwqrcMSKwEv46aYcKvOOC9p3MMxkm8JFANqvb9WvUzfK2LOjRSrVdNnmi4BeWk3L1tnQQa4GAy+JQA4INfLTKoyNZi4b/hcMwFvMPESxHeDlzWJJ0ZOZuO5SWyogJfpnwDjCqyhMTllb4dFNRWYPHssAeh7iAphYirt9iOqwD4dz6E1uhTpMUQRmE6lggJ1AS0i5/2l2aGhGGwF1nu+n9ku2yNwcOVnyYWtALM6jF1Ctu4J2Ao4jtpx2mxhpjpsBXyNz9glnJr6BlsB2k+BwG+0ztdr80sfYStw/fXSmmjMokUYeNPs96bngA89Kbc1ROevYp1HVIHxQuWTvELkw4gZD8IqY2gtGC2WH0vT+hTW0MNssfwoLMqoGmaLlZsMDmpCLTya/rDGjdHC8h0YYNySZQuVPLFOyrTOSLndZlvRD6nVT7p8/2T2XfmZ6XOtOqL/69kozS/S7uk68ZFgUuLE1atvv5SJgqS3I1JPuCGzvCi3xc3Pw0atylb22vKOC1Dj37FCVZbwPdqIZmRkzOMbSchISvom0UY2c/YfOO6+ge8UPBMAAAAASUVORK5CYII=",alt:"veg-option",className:Ne("veg-option")})]}),Object(m.jsxs)("div",{className:Ne("bottom"),children:[Object(m.jsxs)("span",{className:Ne("price"),children:["\u20b9 ",n.price]}),Object(m.jsx)(Ce,{dishId:n._id,type:s,children:i})]})]})},Fe=function(){var e=Object(a.useState)(void 0),t=Object(d.a)(e,2),n=t[0],c=t[1];if(Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/user/recent");case 3:t=e.sent,c(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),void 0===n)return null;var r=Object.entries(n);return 0===r.length?Object(m.jsx)("span",{className:"message",children:"You haven't placed any orders, yet!"}):r.map((function(e){var t=Object(d.a)(e,2),n=t[0],c=t[1],r=new Date(Number(n)).toLocaleString("en-GB",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).split(", "),a=Object(d.a)(r,3),s=a[0],i=a[1],o=a[2];return Object(m.jsx)(_e,{title:"".concat(s,", ").concat(i),subtitle:o,children:c.map((function(e){return Object(m.jsx)(Se,{standalone:!0,recent:!0,dish:e},e._id)}))},n)}))},Pe=function(e){var t=e.sortby,n=Object(a.useState)([]),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/restaurants?sortby=".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),Object(m.jsx)(_e,{children:r.map((function(e){return Object(m.jsx)(he,{restaurant:e},e._id)}))})},Ee=function(e){var t=e.groupby,n={PIZZA:"\ud83c\udf55",CHINESE:"\ud83e\udd61",INDIAN:"\ud83e\udd58",CAFE:"\u2615"},c=Object(a.useState)({}),r=Object(d.a)(c,2),s=r[0],i=r[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/restaurants?sortby=rating&&groupby=".concat(t));case 3:n=e.sent,i(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),Object.entries(s).map((function(e){var t=Object(d.a)(e,2),c=t[0],r=t[1];return Object(m.jsx)(_e,{icon:n[c.toUpperCase()],title:c,children:r.map((function(e){return Object(m.jsx)(he,{restaurant:e},e._id)}))},c)}))},Ue=[{subPage:"/toprated",icon:Object(m.jsx)($.e,{}),text:"Top Rated"},{subPage:"/nearby",icon:Object(m.jsx)(ee.a,{}),text:"Nearby"},{subPage:"/cuisines",icon:Object(m.jsx)($.a,{style:{height:"1.2em"}}),text:"Cuisines"},{subPage:"/recent",icon:Object(m.jsx)($.f,{}),text:"Recent"}],Ie=function(){var e=Object(O.g)();return Object(m.jsxs)("main",{children:[Object(m.jsx)(se,{onSearchFocus:function(){return e.push("/search")}}),Object(m.jsx)(ue,{basePage:"/home",links:Ue}),Object(m.jsxs)(O.d,{children:[Object(m.jsx)(O.b,{exact:!0,path:"/home",children:Object(m.jsx)(O.a,{to:"/home/toprated"})}),Object(m.jsx)(O.b,{path:"/home/toprated",children:Object(m.jsx)(Pe,{sortby:"rating"})}),Object(m.jsx)(O.b,{path:"/home/nearby",children:Object(m.jsx)(Pe,{sortby:"distance"})}),Object(m.jsx)(O.b,{path:"/home/cuisines",children:Object(m.jsx)(Ee,{groupby:"cuisine"})}),Object(m.jsx)(O.b,{path:"/home/recent",children:Object(m.jsx)(Fe,{})}),Object(m.jsx)(O.b,{path:"/home/*",children:Object(m.jsx)(O.a,{to:"/home"})})]})]})},Le=function(e){var t=e.keyword,n=Object(a.useState)(void 0),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){t&&function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/restaurants?sortby=rating&&keyword=".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()(t)}),[t]),void 0===r?Object(m.jsx)("span",{className:"message",children:"Search for restaurants, dishes and cuisines ..."}):0===r.length?Object(m.jsx)("span",{className:"message",children:"No restaurants found for '".concat(t,"'")}):Object(m.jsx)(_e,{children:r.map((function(e){return Object(m.jsx)(he,{restaurant:e},e._id)}))})},Be=function(e){var t=e.keyword,n=Object(a.useState)(void 0),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){t&&function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/dishes?keyword=".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()(t)}),[t]),void 0===r?Object(m.jsx)("span",{className:"message",children:"Search for restaurants, dishes and cuisines ..."}):0===r.length?Object(m.jsx)("h1",{className:"message",children:'No dishes found for "'.concat(t,'" ')}):Object(m.jsx)(_e,{children:r.map((function(e){return Object(m.jsx)(Se,{standalone:!0,dish:e},e._id)}))})},Me=[{subPage:"/restaurants",icon:Object(m.jsx)(U.b,{style:{height:"1.05em"}}),text:"Restaurants"},{subPage:"/dishes",icon:Object(m.jsx)($.a,{style:{height:"1.2em"}}),text:"Dishes"}],Re=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(m.jsxs)("main",{children:[Object(m.jsx)(se,{onSearch:function(e){e.preventDefault(),c(e.target.search.value)},autoFocus:!0}),Object(m.jsx)(ue,{basePage:"/search",links:Me}),Object(m.jsxs)(O.d,{children:[Object(m.jsx)(O.b,{exact:!0,path:"/search",children:Object(m.jsx)(O.a,{to:"/search/restaurants"})}),Object(m.jsx)(O.b,{path:"/search/restaurants",children:Object(m.jsx)(Le,{keyword:n})}),Object(m.jsx)(O.b,{path:"/search/dishes",children:Object(m.jsx)(Be,{keyword:n})}),Object(m.jsx)(O.b,{path:"/search/*",children:Object(m.jsx)(O.a,{to:"/search"})})]})]})},De=n(50),Ke=n.n(De),Ye=P.a.bind(Ke.a),Ze=function(){var e=Object(a.useState)({}),t=Object(d.a)(e,2),n=t[0],c=t[1];Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/user/");case 3:t=e.sent,(n=t.data).imgUrl=n.imgUrl.replace(/=s[0-9]+/,"=s384"),c(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(m.jsxs)("main",{children:[Object(m.jsxs)(M,{hero:!0,img:{src:n.imgUrl,alt:"me"},children:[Object(m.jsxs)("div",{className:Ye("text"),children:[Object(m.jsx)("span",{className:Ye("name"),children:n.name}),Object(m.jsx)("span",{className:Ye("email"),children:n.email})]}),Object(m.jsx)("button",{className:Ye("button"),onClick:function(){return window.open("/auth/logout","_self")},children:"Log Out"})]}),Object(m.jsx)(Fe,{}),Object(m.jsx)(O.b,{path:"/profile/*",children:Object(m.jsx)(O.a,{to:"/profile"})})]})},He=n(51),Je=n.n(He),qe=n(52),Te=P.a.bind(Je.a),Ge=function(e){var t=e.id,n=Object(a.useState)({cuisines:[]}),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/restaurants/".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),Object(m.jsxs)(M,{hero:!0,img:{src:r.imgUrl,alt:"restaurant img"},children:[Object(m.jsxs)("div",{className:Te("text"),children:[Object(m.jsx)("h1",{children:r.name}),Object(m.jsx)("span",{children:r.cuisines.join(", ")})]}),Object(m.jsxs)("div",{className:Te("details"),children:[Object(m.jsxs)("div",{className:Te("info"),children:[Object(m.jsx)($.e,{}),Object(m.jsx)("span",{children:Number(r.rating).toFixed(1)})]}),Object(m.jsxs)("div",{className:Te("info"),children:[Object(m.jsx)($.f,{}),Object(m.jsxs)("span",{children:[5*Math.round(.2*(5*r.distance+20))," Min"]})]}),Object(m.jsxs)("div",{className:Te("info"),children:[Object(m.jsx)(ee.a,{}),Object(m.jsxs)("span",{children:[Number(r.distance).toFixed(1)," Km"]})]})]})]})},We=function(e){var t=e.restaurantId,n=Object(a.useState)([]),c=Object(d.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/dishes?restaurantId=".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),Object.entries(r).map((function(e){var t=Object(d.a)(e,2),n=t[0],c=t[1];return Object(m.jsx)(_e,{title:n,children:c.map((function(e){return Object(m.jsx)(Se,{dish:e},e._id)}))},n)}))},Ve=function(){var e=Object(O.h)().id,t=Object(O.g)();return Object(m.jsxs)("main",{children:[Object(m.jsx)("button",{className:Te("back"),onClick:t.goBack,children:Object(m.jsx)(qe.a,{})}),Object(m.jsx)(Ge,{id:e}),Object(m.jsx)(We,{restaurantId:e})]})},Qe=n(53),ze=n.n(Qe),Xe=P.a.bind(ze.a),$e=function(){return Object(m.jsx)("section",{className:Xe("cart"),children:Object(m.jsx)(ve,{icon:Object(m.jsx)(ee.b,{}),children:"My Cart"})})},et=function(){return Object(m.jsxs)("section",{className:Xe("cart"),children:[Object(m.jsx)(ve,{icon:Object(m.jsx)(ee.b,{}),children:"My Cart"}),Object(m.jsxs)("div",{className:Xe("empty"),children:[Object(m.jsx)("span",{className:Xe("title"),children:"No dishes in your cart, yet."}),Object(m.jsx)("span",{className:Xe("subtitle"),children:"Order something to eat!"})]})]})},tt=function(){var e=A(),t=Object(d.a)(e,2),n=t[0],c=t[1];if(void 0===n)return Object(m.jsx)($e,{});if(0===n.length)return Object(m.jsx)(et,{});var r=n.reduce((function(e,t){return e+t.quantity}),0),a=n.reduce((function(e,t){return e+t.price*t.quantity}),0),s=Math.round(.0275*a),i=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.delete("/user/cart");case 3:c({type:"empty"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("section",{className:Xe("cart"),children:[Object(m.jsx)(_e,{overflowing:!0,icon:Object(m.jsx)(ee.b,{}),subtitle:"".concat(r,r>1?" Dishes":" Dish"),title:"My Cart",children:n.map((function(e){return Object(m.jsx)(Se,{standalone:!0,dish:e},e._id)}))}),Object(m.jsxs)("div",{className:Xe("prices"),children:[Object(m.jsxs)("div",{className:Xe("price"),children:[Object(m.jsx)("span",{className:Xe("price-name"),children:"Sub Total"}),Object(m.jsxs)("span",{className:Xe("price-value"),children:["\u20b9 ",a]})]}),Object(m.jsxs)("div",{className:Xe("price"),children:[Object(m.jsx)("span",{className:Xe("price-name"),children:"Delivery Fee"}),Object(m.jsxs)("span",{className:Xe("price-value"),children:["\u20b9 ",s]})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:Xe("price"),children:[Object(m.jsx)("span",{className:Xe("price-name"),children:"Total"}),Object(m.jsxs)("span",{className:Xe("price-value"),children:["\u20b9 ",a+s]})]})]}),Object(m.jsx)("button",{className:Xe("checkout"),onClick:i,children:"Checkout"})]})},nt=["children","condition","redirect"],ct=function(e){var t=e.children,n=e.condition,c=e.redirect,r=Object(h.a)(e,nt);return Object(m.jsx)(O.b,Object(b.a)(Object(b.a)({},r),{},{render:function(){return n?t:Object(m.jsx)(O.a,{to:c})}}))},rt=function(){var e=p().width,t=Object(a.useState)(void 0),n=Object(d.a)(t,2),c=n[0],r=n[1],s=A()[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get("isauth");case 3:t=e.sent,r(t.data.authenticated),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){c&&function(){var e=Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("/user/cart");case 3:t=e.sent,s({type:"init",payload:{newCart:t.data}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[c]),void 0===c?null:Object(m.jsxs)(m.Fragment,{children:[c&&Object(m.jsx)(ne,{}),Object(m.jsxs)(O.d,{children:[Object(m.jsx)(ct,{exact:!0,path:"/",condition:c,redirect:"/login",children:Object(m.jsx)(O.a,{to:"/home"})}),Object(m.jsx)(ct,{path:"/login",condition:!c,redirect:"/",children:Object(m.jsx)(q,{})}),Object(m.jsx)(ct,{path:"/home",condition:c,redirect:"/login",children:Object(m.jsx)(Ie,{})}),Object(m.jsx)(ct,{path:"/search",condition:c,redirect:"/login",children:Object(m.jsx)(Re,{})}),Object(m.jsx)(ct,{path:"/profile",condition:c,redirect:"/login",children:Object(m.jsx)(Ze,{})}),e<=1345&&Object(m.jsx)(ct,{path:"/cart",condition:c,redirect:"/login",children:Object(m.jsx)(tt,{seperatePage:!0})}),Object(m.jsx)(ct,{path:"/restaurant/:id",condition:c,redirect:"/login",children:Object(m.jsx)(Ve,{})}),Object(m.jsx)(O.b,{path:"/*",children:Object(m.jsx)(O.a,{to:"/"})})]}),c&&e>1345&&Object(m.jsx)(tt,{})]})},at=function(){return Object(m.jsx)(_,{children:Object(m.jsx)(x.a,{children:Object(m.jsx)(rt,{})})})},st=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};o.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(at,{})}),document.getElementById("root")),st()}},[[87,1,2]]]);
//# sourceMappingURL=main.652eb12d.chunk.js.map