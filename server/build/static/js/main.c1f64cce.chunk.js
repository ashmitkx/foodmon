(this["webpackJsonpfoodmon-client"]=this["webpackJsonpfoodmon-client"]||[]).push([[0],{39:function(e,t,n){e.exports={title:"Login_title__RsI1A",button:"Login_button__HekAI","made-by":"Login_made-by__17AYn",author:"Login_author__2I1-8",name:"Login_name__3Xn1S",tag:"Login_tag__ypC0n",repo:"Login_repo__1bXFV"}},40:function(e,t,n){e.exports={hero:"Hero_hero__KpZI0","--max-height":"Hero_--max-height__czEUQ"}},41:function(e,t,n){e.exports={card:"Card_card__3T35y",img:"Card_img__1WGVX",details:"Card_details__3woaU","--reverse":"Card_--reverse__2yUkd"}},42:function(e,t,n){e.exports={"main-nav":"MainNav_main-nav__10z8l",logo:"MainNav_logo__mOnF9","--active":"MainNav_--active__FaUv9","tot-items":"MainNav_tot-items__3XUqG"}},44:function(e,t,n){e.exports={search:"SearchBar_search__1buIf"}},45:function(e,t,n){e.exports={subnav:"SubNav_subnav__3jo57","--center-on-small-screens":"SubNav_--center-on-small-screens__3KBHp","--active":"SubNav_--active__3huZ4"}},46:function(e,t,n){e.exports={top:"RestaurantCard_top__HrCh9",cuisines:"RestaurantCard_cuisines__2QkNe",bottom:"RestaurantCard_bottom__1jWWq",info:"RestaurantCard_info__3ZSns"}},47:function(e,t,n){e.exports={"cards-display":"CardsDisplay_cards-display__1xFXA","--overflowing":"CardsDisplay_--overflowing__1HELk",cards:"CardsDisplay_cards__3U1EN"}},48:function(e,t,n){e.exports={titlebar:"Titlebar_titlebar__1ZeQ4",title:"Titlebar_title__3nVWA",subtitle:"Titlebar_subtitle__Fz2xU"}},49:function(e,t,n){e.exports={top:"Dish_top__1CyxQ","restaurant-name":"Dish_restaurant-name__3noSy","veg-option":"Dish_veg-option__3QDgs",bottom:"Dish_bottom__2JpKk",price:"Dish_price__31A-K",quantity:"Dish_quantity__Utsgu","--recent":"Dish_--recent__3BeV7"}},50:function(e,t,n){e.exports={button:"ProfilePage_button__2mHwJ",text:"ProfilePage_text__2LE7Y",name:"ProfilePage_name__2wRZ5",email:"ProfilePage_email__2jlrk"}},51:function(e,t,n){e.exports={text:"RestaurantPage_text__8rth0",details:"RestaurantPage_details__3EuKV",info:"RestaurantPage_info__3hkvq",back:"RestaurantPage_back__3MWD6"}},53:function(e,t,n){e.exports={cart:"Cart_cart__1GVjB",empty:"Cart_empty__1O430",title:"Cart_title__3Pore",subtitle:"Cart_subtitle__33PP3",prices:"Cart_prices__1d8FK",checkout:"Cart_checkout__t4kIS",price:"Cart_price__Gb3Hw","price-name":"Cart_price-name__32L04","price-value":"Cart_price-value__4Mxuc"}},59:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r,c,a=n(2),s=n.n(a),i=n(37),o=n.n(i),u=n(3),j=n.n(u),l=n(7),d=n(5),b=n(28),h=n(38),O=n(6),x=n(10),p=(n(59),function(){var e=Object(a.useState)({width:window.innerWidth}),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){return r({width:window.innerWidth})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}),f=n(27),m=n(1),v=function(e,t){switch(t.type){case"init":return t.payload.newCart;case"add":var n=t.payload.dish;return[].concat(Object(f.a)(e),[n]);case"update":var r=t.payload,c=r.dishId,a=r.quantity,s=e.findIndex((function(e){return e._id===c}));return a>0?e[s].quantity=a:e.splice(s,1),Object(f.a)(e);case"empty":return[];default:throw new Error("Unknown cartReducer action type")}},g=Object(a.createContext)([void 0,function(){}]),_=function(e){var t=e.children,n=Object(a.useReducer)(v,void 0);return Object(m.jsx)(g.Provider,{value:n,children:t})},y=function(){return Object(a.useContext)(g)},A=n(24),C=n.n(A),w=C.a.create({baseURL:"/api/v1",withCredentials:!0}),N=C.a.create({baseURL:"/auth",withCredentials:!0}),k=n(39),S=n.n(k),E=n(4),L=n.n(E),P=n.p+"static/media/logo.69195d98.svg",F=n(20),I=n(40),U=n.n(I),B=L.a.bind(U.a),M=function(e){var t=e.img,n=e.maxHeight,r=e.children;return Object(m.jsxs)("section",{className:B("hero",{"--max-height":n}),children:[Object(m.jsx)("img",{src:t.src,alt:t.alt}),r]})},R=n(41),D=n.n(R),K=L.a.bind(D.a),Z=function(e){var t=e.img,n=e.reverse,r=e.children;return Object(m.jsxs)("article",{className:K("card",{"--reverse":n}),children:[Object(m.jsx)("img",{src:t.src,alt:t.alt,className:K("img")}),Object(m.jsx)("div",{className:K("details"),children:r})]})},q=L.a.bind(S.a),Y=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("h1",{className:q("title"),children:"Foodmon"}),Object(m.jsxs)("button",{className:q("button"),onClick:function(){return window.open("/auth/google","_self")},children:[Object(m.jsx)(F.a,{}),Object(m.jsx)("span",{children:"Log In with Google"})]})]})},H=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("span",{className:q("made-by"),children:["Made for Devsoc, with ",Object(m.jsx)("span",{children:"\u2764"})," by"]}),Object(m.jsxs)(Z,{img:{src:"https://avatars.githubusercontent.com/u/66110457?v=4",alt:"author"},children:[Object(m.jsxs)("a",{href:"https://github.com/ashmitkx",target:"_blank",rel:"noreferrer",className:q("author"),children:[Object(m.jsx)("span",{className:q("name"),children:"Ashmit Khandelwal"}),Object(m.jsx)("span",{className:q("tag"),children:"@ashmitkx"})]}),Object(m.jsx)("a",{className:q("repo"),target:"_blank",rel:"noreferrer",href:"https://github.com/ashmitkx/foodmon",children:"Github Repo"})]})]})},J=function(){return Object(m.jsxs)(M,{maxHeight:!0,img:{src:P,alt:"logo"},children:[Object(m.jsx)(Y,{}),Object(m.jsx)(H,{})]})},G=n(42),T=n.n(G),W=["title","titleId"];function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function z(e,t){var n=e.title,s=e.titleId,i=Q(e,W);return a.createElement("svg",V({width:148,height:148,viewBox:"0 0 148 148",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},i),n?a.createElement("title",{id:s},n):null,r||(r=a.createElement("path",{d:"M122.6 71.94L51.42 0.780002C51.053 0.413002 50.585 0.162002 50.076 0.0600021C49.566 -0.0409979 49.038 0.0100021 48.558 0.208002C48.078 0.406002 47.667 0.741002 47.377 1.172C47.087 1.603 46.932 2.111 46.93 2.63V62.47L25.37 40.93C25.002 40.562 24.533 40.312 24.023 40.21C23.513 40.108 22.984 40.16 22.503 40.36C22.023 40.559 21.612 40.896 21.323 41.328C21.034 41.761 20.88 42.27 20.88 42.79V104.58C20.876 106.515 21.254 108.432 21.994 110.221C22.733 112.009 23.82 113.633 25.19 115L53.24 143C56.003 145.75 59.742 147.295 63.64 147.3H84.17C88.066 147.298 91.802 145.752 94.56 143L122.61 115C123.975 113.636 125.058 112.017 125.796 110.234C126.534 108.451 126.912 106.54 126.91 104.61V82.34C126.912 80.408 126.532 78.495 125.792 76.71C125.053 74.925 123.968 73.304 122.6 71.94Z",fill:"#E65D03"})),c||(c=a.createElement("path",{d:"M100.89 98C100.887 99.166 100.423 100.284 99.6 101.11L77 123.79C76.591 124.203 76.104 124.53 75.568 124.754C75.031 124.977 74.456 125.093 73.875 125.093C73.294 125.093 72.718 124.977 72.182 124.754C71.646 124.53 71.159 124.203 70.75 123.79L48.2 101.08C47.38 100.263 46.913 99.157 46.9 98V89.34C46.901 88.76 47.016 88.186 47.239 87.65C47.462 87.115 47.789 86.629 48.2 86.22L56.32 78.1C57.148 77.274 58.27 76.81 59.44 76.81C60.61 76.81 61.731 77.274 62.56 78.1L73.91 89.46L85.24 78.1C86.068 77.274 87.19 76.81 88.36 76.81C89.53 76.81 90.651 77.274 91.48 78.1L99.59 86.22C100.001 86.629 100.328 87.115 100.551 87.65C100.774 88.186 100.889 88.76 100.89 89.34V98Z",fill:"#FFDB1C"})))}var X,$=a.forwardRef(z),ee=(n.p,n(8)),te=n(14),ne=L.a.bind(T.a),re=function(){var e=y()[0],t=p().width;if(void 0===e)return null;var n=e.reduce((function(e,t){return e+t.quantity}),0);return Object(m.jsx)("nav",{className:ne("main-nav"),children:Object(m.jsxs)("ul",{children:[t>540&&Object(m.jsx)("li",{children:Object(m.jsx)("div",{className:ne("logo"),children:Object(m.jsx)($,{})})}),Object(m.jsx)("li",{children:Object(m.jsx)(x.c,{to:"/home",activeClassName:ne("--active"),children:Object(m.jsx)(ee.c,{})})}),Object(m.jsx)("li",{children:Object(m.jsx)(x.c,{to:"/search",activeClassName:ne("--active"),children:Object(m.jsx)(ee.d,{})})}),t<=1345&&Object(m.jsxs)("li",{children:[n>0&&Object(m.jsx)("span",{className:ne("tot-items"),children:n}),Object(m.jsx)(x.c,{to:"/cart",activeClassName:ne("--active"),children:Object(m.jsx)(te.b,{})})]}),Object(m.jsx)("li",{children:Object(m.jsx)(x.c,{to:"/profile",activeClassName:ne("--active"),children:Object(m.jsx)(ee.b,{})})})]})})},ce=n(44),ae=n.n(ce),se=L.a.bind(ae.a),ie=function(e){var t=e.onSearch,n=e.onSearchFocus,r=e.autoFocus;return Object(m.jsxs)("form",{className:se("search"),onSubmit:t,onFocus:n,children:[Object(m.jsx)("input",{autoFocus:r,required:!0,type:"text",name:"search",placeholder:"Find something to eat ..."}),Object(m.jsx)(ee.d,{})]})},oe=n(45),ue=n.n(oe),je=L.a.bind(ue.a),le=function(e){var t,n=e.basePage,r=e.links;return r.length<=2&&(t="--center-on-small-screens"),Object(m.jsx)("nav",{className:je("subnav",t),children:Object(m.jsx)("ul",{children:r.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsxs)(x.c,{to:n+e.subPage,activeClassName:je("--active"),children:[e.icon,e.text]})},e.subPage)}))})})},de=n(46),be=n.n(de),he=L.a.bind(be.a),Oe=function(e){var t=e.restaurant;return Object(m.jsx)(x.b,{to:"/restaurant/".concat(t._id),children:Object(m.jsxs)(Z,{reverse:!0,img:{src:t.imgUrl,alt:"restaurant img"},children:[Object(m.jsxs)("div",{className:he("top"),children:[Object(m.jsx)("h2",{children:t.name}),Object(m.jsx)("span",{className:he("cuisines"),children:t.cuisines.join(", ")})]}),Object(m.jsxs)("div",{className:he("bottom"),children:[Object(m.jsxs)("div",{className:he("info"),children:[Object(m.jsx)(ee.e,{}),Object(m.jsx)("span",{children:Number(t.rating).toFixed(1)})]}),Object(m.jsxs)("div",{className:he("info"),children:[Object(m.jsx)(ee.f,{}),Object(m.jsxs)("span",{children:[5*Math.round(.2*(5*t.distance+20))," Min"]})]}),Object(m.jsxs)("div",{className:he("info"),children:[Object(m.jsx)(te.a,{}),Object(m.jsxs)("span",{children:[Number(t.distance).toFixed(1)," Km"]})]})]})]})})},xe=n(47),pe=n.n(xe),fe=n(48),me=n.n(fe),ve=L.a.bind(me.a),ge=function(e){var t=e.icon,n=e.subtitle,r=e.children;return Object(m.jsxs)("div",{className:ve("titlebar"),children:[Object(m.jsxs)("div",{className:ve("title"),children:[t&&Object(m.jsx)("span",{children:t}),Object(m.jsx)("h1",{children:r})]}),Object(m.jsx)("span",{className:ve("subtitle"),children:n})]})},_e=L.a.bind(pe.a),ye=function(e){var t=e.icon,n=e.title,r=e.subtitle,c=e.overflowing,a=e.children;return Object(m.jsxs)("section",{className:_e("cards-display",{"--overflowing":c}),children:[(n||r)&&Object(m.jsx)(ge,{subtitle:r,icon:t,children:n}),Object(m.jsx)("div",{className:_e("cards"),children:a})]})},Ae=n(49),Ce=n.n(Ae),we=["title","titleId"];function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ke(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function Se(e,t){var n=e.title,r=e.titleId,c=ke(e,we);return a.createElement("svg",Ne({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},c),n?a.createElement("title",{id:r},n):null,X||(X=a.createElement("path",{d:"M2.63998 1.27L7.49998 6.13L12.34 1.29C12.4248 1.19972 12.527 1.12749 12.6404 1.07766C12.7538 1.02783 12.8761 1.00141 13 1C13.2652 1 13.5196 1.10536 13.7071 1.29289C13.8946 1.48043 14 1.73478 14 2C14.0023 2.1226 13.9796 2.24439 13.9331 2.35788C13.8867 2.47138 13.8176 2.57419 13.73 2.66L8.83998 7.5L13.73 12.39C13.8948 12.5512 13.9914 12.7696 14 13C14 13.2652 13.8946 13.5196 13.7071 13.7071C13.5196 13.8946 13.2652 14 13 14C12.8725 14.0053 12.7454 13.984 12.6266 13.9375C12.5078 13.8911 12.4 13.8204 12.31 13.73L7.49998 8.87L2.64998 13.72C2.56549 13.8073 2.46454 13.8769 2.35298 13.925C2.24142 13.9731 2.12144 13.9986 1.99998 14C1.73476 14 1.48041 13.8946 1.29287 13.7071C1.10534 13.5196 0.99998 13.2652 0.99998 13C0.997648 12.8774 1.0204 12.7556 1.06682 12.6421C1.11325 12.5286 1.18239 12.4258 1.26998 12.34L6.15998 7.5L1.26998 2.61C1.10516 2.44876 1.00852 2.23041 0.99998 2C0.99998 1.73478 1.10534 1.48043 1.29287 1.29289C1.48041 1.10536 1.73476 1 1.99998 1C2.23998 1.003 2.46998 1.1 2.63998 1.27Z",fill:"#E65D03"})))}var Ee=a.forwardRef(Se),Le=(n.p,n(21)),Pe=L.a.bind(Ce.a),Fe=function(e){var t=e.type,n=e.dishId,r=e.children,c=y()[1],s=Object(a.useState)(!1),i=Object(d.a)(s,2),o=i[0],u=i[1],b=function(){var e=Object(l.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),a=r+t,e.prev=2,e.next=5,w.put("/user/cart",{_id:n,quantity:a});case 5:u(!1),c({type:"update",payload:{dishId:n,quantity:a}}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),u(!1),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,w.post("/user/cart",{_id:n});case 4:t=e.sent,c({type:"add",payload:{dish:t.data}}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();switch(t){case"recent":return Object(m.jsxs)("div",{className:Pe("quantity","--recent"),children:[Object(m.jsx)(Ee,{style:{width:"0.95em"}}),Object(m.jsx)("span",{children:r})]});case"edit":return Object(m.jsxs)("div",{className:Pe("quantity"),children:[Object(m.jsx)("button",{onClick:function(){return b(1)},disabled:o,children:Object(m.jsx)(Le.b,{})}),Object(m.jsx)("span",{children:r}),Object(m.jsx)("button",{onClick:function(){return b(-1)},disabled:o,children:r>1?Object(m.jsx)(Le.a,{}):Object(m.jsx)(ee.g,{style:{height:"1.1em",marginBottom:"1px"}})})]});case"add":return Object(m.jsxs)("button",{className:Pe("quantity"),onClick:h,disabled:o,children:[Object(m.jsx)(Le.b,{}),Object(m.jsx)("span",{children:"Add"})]});default:throw new Error("Invalid type prop in QuantitySelect")}},Ie=function(e){var t=e.to,n=e.condition,r=e.children;return n?Object(m.jsx)(x.b,{to:t,children:r}):r},Ue=function(e){var t,n=e.dish,r=e.recent,c=e.standalone,a=y()[0];if(void 0===a)return null;var s,i=n.quantity||(null===(t=a.find((function(e){return e._id===n._id})))||void 0===t?void 0:t.quantity);return s=r?"recent":i?"edit":"add",Object(m.jsxs)(Z,{img:{src:n.imgUrl,alt:"dish img"},children:[Object(m.jsxs)("div",{className:Pe("top"),children:[Object(m.jsxs)(Ie,{to:"/restaurant/".concat(n.restaurant._id),condition:c,children:[Object(m.jsx)("h2",{children:n.name}),c&&Object(m.jsx)("span",{className:Pe("restaurant-name"),children:n.restaurant.name})]}),Object(m.jsx)("img",{src:n.vegetarian?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHFSURBVHgB7Zc7SwNBFIW/DSJio4KFhWAQC0EQQbQ1BmzE3lJt/AO2PsZHay1YiI2NlY1Y+QCtFK1FUGJjYaMoKKJJPNkYLMTszGZImnzLXJbd2XvPztyduRtgyFNDGkJrCKg2hlbZpwQ1pi6ggTgU5i9Bn9K3R9nzTo5HnV+xzAuOuAkwTMjOqaUUtEjpGwrC+0e6vsUKO5YeLQUYkgqwrWAjET3TGpm0RmJKfWf1XCaiv0UOGPplLyyC/5JnTPZYz3ZHdU1EBE/K7qu1405S7ZA1uogtIOBAtpP4JPnS1MUSYJjWUPZSOSn5SuEsAAnwxwJOAorrtH3SRREwKJ9NWAuAAXySp0W220VAB/7pcBHQiH9yOAi4xjdZXnEQcKN5y+KPN1a5xFqA4VmZe4o/9v67UW4dWMYfGzgLMJzInlA52/J1hrOAIjPKhXvik9GGb8p1iNoNM8qFdOgoTnAYZb78C9jUA3ehI9jFlsIu+sGwTUFiWxFlZCdZ1HwmVOnAOH8Xq2e1wlyvs2SfO2414UpYHxwoLwJ9I0M6b6Y4ig86btnkE0fiVcVBWIqe44H6j0np57SVavNFWyF6KQeeqDY/kb8BtfZeJk1kcJ8AAAAASUVORK5CYII=":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJGSURBVHgB7ZfPaxNBFMe/b7KhWktBUMSL2myDFbzFPyCpB8GjUG8KXqxtqBQRPSjGGhAVrCB0pQeh54Jn8WATKZ5KThZBbJOAiFD8dbBIt8k836b21DY7synJpZ/DLkkeO5+deTPvhbx0wgchjg7hBBdm/qAUzaGdMJ9j0EBDQDHNj8yVx9FGvHTfjMz8gEKH2RNwEIHp1NHuem/3KaprlxX7rHnFWT20MFwqrcMSKwEv46aYcKvOOC9p3MMxkm8JFANqvb9WvUzfK2LOjRSrVdNnmi4BeWk3L1tnQQa4GAy+JQA4INfLTKoyNZi4b/hcMwFvMPESxHeDlzWJJ0ZOZuO5SWyogJfpnwDjCqyhMTllb4dFNRWYPHssAeh7iAphYirt9iOqwD4dz6E1uhTpMUQRmE6lggJ1AS0i5/2l2aGhGGwF1nu+n9ku2yNwcOVnyYWtALM6jF1Ctu4J2Ao4jtpx2mxhpjpsBXyNz9glnJr6BlsB2k+BwG+0ztdr80sfYStw/fXSmmjMokUYeNPs96bngA89Kbc1ROevYp1HVIHxQuWTvELkw4gZD8IqY2gtGC2WH0vT+hTW0MNssfwoLMqoGmaLlZsMDmpCLTya/rDGjdHC8h0YYNySZQuVPLFOyrTOSLndZlvRD6nVT7p8/2T2XfmZ6XOtOqL/69kozS/S7uk68ZFgUuLE1atvv5SJgqS3I1JPuCGzvCi3xc3Pw0atylb22vKOC1Dj37FCVZbwPdqIZmRkzOMbSchISvom0UY2c/YfOO6+ge8UPBMAAAAASUVORK5CYII=",alt:"veg-option",className:Pe("veg-option")})]}),Object(m.jsxs)("div",{className:Pe("bottom"),children:[Object(m.jsxs)("span",{className:Pe("price"),children:["\u20b9 ",n.price]}),Object(m.jsx)(Fe,{dishId:n._id,type:s,children:i})]})]})},Be=function(){var e=Object(a.useState)(void 0),t=Object(d.a)(e,2),n=t[0],r=t[1];if(Object(a.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/user/recent");case 3:t=e.sent,r(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),void 0===n)return null;var c=Object.entries(n);return 0===c.length?Object(m.jsx)("span",{className:"message",children:"You haven't placed any orders, yet!"}):c.map((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1],c=new Date(Number(n)).toLocaleString("en-GB",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}).split(", "),a=Object(d.a)(c,3),s=a[0],i=a[1],o=a[2];return Object(m.jsx)(ye,{title:"".concat(s,", ").concat(i),subtitle:o,children:r.map((function(e){return Object(m.jsx)(Ue,{standalone:!0,recent:!0,dish:e},e._id)}))},n)}))},Me=function(e){var t=e.sortby,n=Object(a.useState)([]),r=Object(d.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/restaurants?sortby=".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),Object(m.jsx)(ye,{children:c.map((function(e){return Object(m.jsx)(Oe,{restaurant:e},e._id)}))})},Re=function(e){var t=e.groupby,n={PIZZA:"\ud83c\udf55",CHINESE:"\ud83e\udd61",INDIAN:"\ud83e\udd58",CAFE:"\u2615"},r=Object(a.useState)({}),c=Object(d.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/restaurants?sortby=rating&&groupby=".concat(t));case 3:n=e.sent,i(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),Object.entries(s).map((function(e){var t=Object(d.a)(e,2),r=t[0],c=t[1];return Object(m.jsx)(ye,{icon:n[r.toUpperCase()],title:r,children:c.map((function(e){return Object(m.jsx)(Oe,{restaurant:e},e._id)}))},r)}))},De=[{subPage:"/toprated",icon:Object(m.jsx)(ee.e,{}),text:"Top Rated"},{subPage:"/nearby",icon:Object(m.jsx)(te.a,{}),text:"Nearby"},{subPage:"/cuisines",icon:Object(m.jsx)(ee.a,{style:{height:"1.2em"}}),text:"Cuisines"},{subPage:"/recent",icon:Object(m.jsx)(ee.f,{}),text:"Recent"}],Ke=function(){var e=Object(O.g)();return Object(m.jsxs)("main",{children:[Object(m.jsx)(ie,{onSearchFocus:function(){return e.push("/search")}}),Object(m.jsx)(le,{basePage:"/home",links:De}),Object(m.jsxs)(O.d,{children:[Object(m.jsx)(O.b,{exact:!0,path:"/home",children:Object(m.jsx)(O.a,{to:"/home/toprated"})}),Object(m.jsx)(O.b,{path:"/home/toprated",children:Object(m.jsx)(Me,{sortby:"rating"})}),Object(m.jsx)(O.b,{path:"/home/nearby",children:Object(m.jsx)(Me,{sortby:"distance"})}),Object(m.jsx)(O.b,{path:"/home/cuisines",children:Object(m.jsx)(Re,{groupby:"cuisine"})}),Object(m.jsx)(O.b,{path:"/home/recent",children:Object(m.jsx)(Be,{})}),Object(m.jsx)(O.b,{path:"/home/*",children:Object(m.jsx)(O.a,{to:"/home"})})]})]})},Ze=function(e){var t=e.keyword,n=Object(a.useState)(void 0),r=Object(d.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){t&&function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/restaurants?keyword=".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()(t)}),[t]),void 0===c?Object(m.jsx)("span",{className:"message",children:"Search for restaurants, dishes and cuisines ..."}):0===c.length?Object(m.jsx)("span",{className:"message",children:"No restaurants found for '".concat(t,"'")}):Object(m.jsx)(ye,{children:c.map((function(e){return Object(m.jsx)(Oe,{restaurant:e},e._id)}))})},qe=function(e){var t=e.keyword,n=Object(a.useState)(void 0),r=Object(d.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){t&&function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/dishes?keyword=".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()(t)}),[t]),void 0===c?Object(m.jsx)("span",{className:"message",children:"Search for restaurants, dishes and cuisines ..."}):0===c.length?Object(m.jsx)("h1",{className:"message",children:'No dishes found for "'.concat(t,'" ')}):Object(m.jsx)(ye,{children:c.map((function(e){return Object(m.jsx)(Ue,{standalone:!0,dish:e},e._id)}))})},Ye=[{subPage:"/restaurants",icon:Object(m.jsx)(F.b,{style:{height:"1.05em"}}),text:"Restaurants"},{subPage:"/dishes",icon:Object(m.jsx)(ee.a,{style:{height:"1.2em"}}),text:"Dishes"}],He=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(m.jsxs)("main",{children:[Object(m.jsx)(ie,{onSearch:function(e){e.preventDefault(),r(e.target.search.value)},autoFocus:!0}),Object(m.jsx)(le,{basePage:"/search",links:Ye}),Object(m.jsxs)(O.d,{children:[Object(m.jsx)(O.b,{exact:!0,path:"/search",children:Object(m.jsx)(O.a,{to:"/search/restaurants"})}),Object(m.jsx)(O.b,{path:"/search/restaurants",children:Object(m.jsx)(Ze,{keyword:n})}),Object(m.jsx)(O.b,{path:"/search/dishes",children:Object(m.jsx)(qe,{keyword:n})}),Object(m.jsx)(O.b,{path:"/search/*",children:Object(m.jsx)(O.a,{to:"/search"})})]})]})},Je=n(50),Ge=n.n(Je),Te=L.a.bind(Ge.a),We=function(){var e=Object(a.useState)({}),t=Object(d.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/user/");case 3:t=e.sent,(n=t.data).imgUrl=n.imgUrl.replace(/=s[0-9]+/,"=s384"),r(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(m.jsxs)("main",{children:[Object(m.jsxs)(M,{hero:!0,img:{src:n.imgUrl,alt:"me"},children:[Object(m.jsxs)("div",{className:Te("text"),children:[Object(m.jsx)("span",{className:Te("name"),children:n.name}),Object(m.jsx)("span",{className:Te("email"),children:n.email})]}),Object(m.jsx)("button",{className:Te("button"),onClick:function(){return window.open("/auth/logout","_self")},children:"Log Out"})]}),Object(m.jsx)(Be,{}),Object(m.jsx)(O.b,{path:"/profile/*",children:Object(m.jsx)(O.a,{to:"/profile"})})]})},Ve=n(51),Qe=n.n(Ve),ze=n(52),Xe=L.a.bind(Qe.a),$e=function(e){var t=e.id,n=Object(a.useState)(void 0),r=Object(d.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/restaurants/".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),void 0===c?null:Object(m.jsxs)(M,{hero:!0,img:{src:c.imgUrl,alt:"restaurant img"},children:[Object(m.jsxs)("div",{className:Xe("text"),children:[Object(m.jsx)("h1",{children:c.name}),Object(m.jsx)("span",{children:c.cuisines.join(", ")})]}),Object(m.jsxs)("div",{className:Xe("details"),children:[Object(m.jsxs)("div",{className:Xe("info"),children:[Object(m.jsx)(ee.e,{}),Object(m.jsx)("span",{children:Number(c.rating).toFixed(1)})]}),Object(m.jsxs)("div",{className:Xe("info"),children:[Object(m.jsx)(ee.f,{}),Object(m.jsxs)("span",{children:[5*Math.round(.2*(5*c.distance+20))," Min"]})]}),Object(m.jsxs)("div",{className:Xe("info"),children:[Object(m.jsx)(te.a,{}),Object(m.jsxs)("span",{children:[Number(c.distance).toFixed(1)," Km"]})]})]})]})},et=function(e){var t=e.restaurantId,n=Object(a.useState)([]),r=Object(d.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/dishes?restaurantId=".concat(t));case 3:n=e.sent,s(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}})()(t)}),[t]),Object.entries(c).map((function(e){var t=Object(d.a)(e,2),n=t[0],r=t[1];return Object(m.jsx)(ye,{title:n,children:r.map((function(e){return Object(m.jsx)(Ue,{dish:e},e._id)}))},n)}))},tt=function(){var e=Object(O.h)().id,t=Object(O.g)();return Object(m.jsxs)("main",{children:[Object(m.jsx)("button",{className:Xe("back"),onClick:t.goBack,children:Object(m.jsx)(ze.a,{})}),Object(m.jsx)($e,{id:e}),Object(m.jsx)(et,{restaurantId:e})]})},nt=n(53),rt=n.n(nt),ct=L.a.bind(rt.a),at=function(){return Object(m.jsx)("section",{className:ct("cart"),children:Object(m.jsx)(ge,{icon:Object(m.jsx)(te.b,{}),children:"My Cart"})})},st=function(){return Object(m.jsxs)("section",{className:ct("cart"),children:[Object(m.jsx)(ge,{icon:Object(m.jsx)(te.b,{}),children:"My Cart"}),Object(m.jsxs)("div",{className:ct("empty"),children:[Object(m.jsx)("span",{className:ct("title"),children:"No dishes in your cart, yet."}),Object(m.jsx)("span",{className:ct("subtitle"),children:"Order something to eat!"})]})]})},it=function(){var e=y(),t=Object(d.a)(e,2),n=t[0],r=t[1];if(void 0===n)return Object(m.jsx)(at,{});if(0===n.length)return Object(m.jsx)(st,{});var c=n.reduce((function(e,t){return e+t.quantity}),0),a=n.reduce((function(e,t){return e+t.price*t.quantity}),0),s=Math.round(.0275*a),i=function(){var e=Object(l.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.delete("/user/cart");case 3:r({type:"empty"}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(m.jsxs)("section",{className:ct("cart"),children:[Object(m.jsx)(ye,{overflowing:!0,icon:Object(m.jsx)(te.b,{}),subtitle:"".concat(c,c>1?" Dishes":" Dish"),title:"My Cart",children:n.map((function(e){return Object(m.jsx)(Ue,{standalone:!0,dish:e},e._id)}))}),Object(m.jsxs)("div",{className:ct("prices"),children:[Object(m.jsxs)("div",{className:ct("price"),children:[Object(m.jsx)("span",{className:ct("price-name"),children:"Sub Total"}),Object(m.jsxs)("span",{className:ct("price-value"),children:["\u20b9 ",a]})]}),Object(m.jsxs)("div",{className:ct("price"),children:[Object(m.jsx)("span",{className:ct("price-name"),children:"Delivery Fee"}),Object(m.jsxs)("span",{className:ct("price-value"),children:["\u20b9 ",s]})]}),Object(m.jsx)("hr",{}),Object(m.jsxs)("div",{className:ct("price"),children:[Object(m.jsx)("span",{className:ct("price-name"),children:"Total"}),Object(m.jsxs)("span",{className:ct("price-value"),children:["\u20b9 ",a+s]})]})]}),Object(m.jsx)("button",{className:ct("checkout"),onClick:i,children:"Checkout"})]})},ot=["children","condition","redirect"],ut=function(e){var t=e.children,n=e.condition,r=e.redirect,c=Object(h.a)(e,ot);return Object(m.jsx)(O.b,Object(b.a)(Object(b.a)({},c),{},{render:function(){return n?t:Object(m.jsx)(O.a,{to:r})}}))},jt=function(){var e=p().width,t=Object(a.useState)(void 0),n=Object(d.a)(t,2),r=n[0],c=n[1],s=y()[1];return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.get("isauth");case 3:t=e.sent,c(t.data.authenticated),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){r&&function(){var e=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.get("/user/cart");case 3:t=e.sent,s({type:"init",payload:{newCart:t.data}}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[r]),void 0===r?null:Object(m.jsxs)(m.Fragment,{children:[r&&Object(m.jsx)(re,{}),Object(m.jsxs)(O.d,{children:[Object(m.jsx)(ut,{exact:!0,path:"/",condition:r,redirect:"/login",children:Object(m.jsx)(O.a,{to:"/home"})}),Object(m.jsx)(ut,{path:"/login",condition:!r,redirect:"/",children:Object(m.jsx)(J,{})}),Object(m.jsx)(ut,{path:"/home",condition:r,redirect:"/login",children:Object(m.jsx)(Ke,{})}),Object(m.jsx)(ut,{path:"/search",condition:r,redirect:"/login",children:Object(m.jsx)(He,{})}),Object(m.jsx)(ut,{path:"/profile",condition:r,redirect:"/login",children:Object(m.jsx)(We,{})}),e<=1345&&Object(m.jsx)(ut,{path:"/cart",condition:r,redirect:"/login",children:Object(m.jsx)(it,{})}),Object(m.jsx)(ut,{path:"/restaurant/:id",condition:r,redirect:"/login",children:Object(m.jsx)(tt,{})}),Object(m.jsx)(O.b,{path:"/*",children:Object(m.jsx)(O.a,{to:"/"})})]}),r&&e>1345&&Object(m.jsx)(it,{})]})},lt=function(){return Object(m.jsx)(_,{children:Object(m.jsx)(x.a,{children:Object(m.jsx)(jt,{})})})},dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,88)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};o.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(lt,{})}),document.getElementById("root")),dt()}},[[87,1,2]]]);
//# sourceMappingURL=main.c1f64cce.chunk.js.map